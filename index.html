<head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<style>
.border {   border-width: 10px !important;   border-color: red !important;   border-style: solid !important; } 
#myContainer {
  width: 400px;
  height: 400px;
  position: relative;
  background: yellow;
}
.myAnimation {
  position: absolute;
  background-color: red;
}
body {
  margin: 0;
}

img {
  margin-left: auto;
  margin-right: auto;
  margin-top: auto;
  margin-bottom: auto;
  display: block;
}
</style>

</head>
<body>
<div class="row">
	<div class="col">
		<input type="text" id ="BPM" size="3" maxlength="3"/><label>BPM</label>
		<input type="button" id="start" value="Start"/>
		<input hidden type="button" id="slower" value="Slower"/>
		<input type="button" id="stop" value="Stop"/>
	</div>
	<div class="col">
	<img src="images/begrepeat.PNG" style="height: 130px;"/>
	</div>
	
	<div class="col-8 notes">
	</div>
	<div class="col">
		<img src="images/endrepeat.PNG" style="height: 130px;"/>
	</div>
	<div class="col">
	Hello
	</div>
</div>
<!--<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>-->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script>
	$('.notes').each(function() {
		const files = ["eighths.png","quarter.png","rest.png","sixteenths.png","triplets.png"]		
		for(let i = 0; i < 100; i++) {
			var random = Math.floor(Math.random()* files.length);
			var file = "images/"+files[random];
			$(this).prepend('<div class="images" style="height: 155px; max-height: 155px; display: inline-block; width: 25%;"><img src="'+file+'"/></div>');
		}
	});
	$(document).ready(function() {		
		/*
		$('div.MagicScroll').attr('data-options',"autoplay: 0; orientation: vertical; height: 600; scrollOnWheel: false; arrows: off;");
		MagicScroll.start();
		*/
		
	});
	
	$( "#faster" ).click(function() {	
		MagicScroll.stop();
		var attribute = $('div.MagicScroll').attr('data-options');
		var speedLoc = attribute.search("speed")+"speed: ".length;
		var semicolon = attribute.indexOf(";",speedLoc);
		var speed = attribute.substring(speedLoc, semicolon);
		var newSpeed = speed*1+1000;
		$('div.MagicScroll').attr('data-options',function(index, dataop) {
			return dataop.replace("speed: "+speed, "speed: "+newSpeed);
		});
		MagicScroll.start();
		
	});
	$( "#slower" ).click(function() {
		MagicScroll.stop();
		var attribute = $('div.MagicScroll').attr('data-options');
		var speedLoc = attribute.search("speed")+"speed: ".length;
		var semicolon = attribute.indexOf(";",speedLoc);
		var speed = attribute.substring(speedLoc, semicolon);
		var newSpeed = speed*1-1000;
		$('div.MagicScroll').attr('data-options',function(index, dataop) {
			return dataop.replace("speed: "+speed, "speed: "+newSpeed);
		});		
		MagicScroll.start();
	});
	$("#start").click(function() {
		var id=null;
		var pos = 0;
		var top = 0;
		var imgs = $('div.col-8 img').length;
		var curImg = $('div.col-8 img')[pos];
		$(curImg).addClass('border');
		clearInterval(id);
		id = setInterval(tester, 60000/($('#BPM').val()));
		function tester() {
		if (pos == imgs) {
		  pos = 0;
		} else {
			$(curImg).removeClass('border');
			pos++;
			if(pos > 0 && (pos)%4 == 0) {
				top -= 155;
				$('div.notes')[0].style.top = top + 'px';
			}
			curImg = $('div.col-8 img')[pos];
			$(curImg).addClass('border');
		}
		};
	});
	$('#stop').click(function() {
		MagicScroll.pause();
	});
</script>
</body>
